
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ูุนุฑุถ ุงูุฃุนูุงู - ุจูุงู ุงููุฎูุงูู | ููุฑุจุงุฆู ููุงุฒู ุงูุฑูุงุถ</title>
    <meta name="description" content="ุดุงูุฏ ุฃุนูุงูู ุงูุณุงุจูุฉ ูู ุฅุตูุงุญ ูุชุฑููุจ ุงูููุฑุจุงุก ุงูููุฒููุฉ - ุฌูุฏุฉ ูุงุญุชุฑุงููุฉ ูู ุงูุนูู">
    
    <!-- CSS -->
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/animations.css">
    <link rel="stylesheet" href="css/responsive.css">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
</head>
<body>
    <!-- ๐ ุงูุดุฑูุท ุงูุนููู -->
    <header class="header">
        <nav class="navbar container">
            <div class="logo">
                
                  <div class="logo">
                <img src="images/1.png" alt="ุจูุงู ุงููุฎูุงูู - ููุฑุจุงุฆู ููุงุฒู ูุญุชุฑู" class="logo-img">
                <div class="logo-text">
                    <h1>ุจูุงู ุงููุฎูุงูู</h1>
                    <span>ููุฑุจุงุฆู ููุงุฒู ูุญุชุฑู - ููุงูู ูุนุชูุฏ ูู ุงูุฑูุงุถ</span>
                </div>
            </div>
            </div>
            
            <ul class="nav-menu">
                <li><a href="index.html" class="nav-link">ุงูุฑุฆูุณูุฉ</a></li>
                <li><a href="services.html" class="nav-link">ุงูุฎุฏูุงุช</a></li>
                <li><a href="gallery.html" class="nav-link active">ุฃุนูุงูู</a></li>
                <li><a href="contact.html" class="nav-link">ุงุชุตู ุจู</a></li>
            </ul>
            
            <div class="nav-cta">
                <a href="tel:0546788947" class="btn btn-sm btn-primary">
                    <i class="fas fa-phone"></i>
                    ุงุชุตู ุงูุขู
                </a>
            </div>
            
            <div class="menu-toggle">
                <i class="fas fa-bars"></i>
            </div>
        </nav>
    </header>

    <!-- ๐จ ูุนุฑุถ ุงูุฃุนูุงู -->
    <section class="gallery-page" style="padding: 120px 0 80px;">
        <div class="container">
            <div class="section-title">
                <h2>ูุนุฑุถ ุฃุนูุงูู</h2>
                <p>ุฃุนูุงูู ุงูุณุงุจูุฉ ุชุชุญุฏุซ ุนู ุฌูุฏุฉ ู ุงุญุชุฑุงููุฉ ุฎุฏูุงุชู</p>
            </div>

            <!-- ุฃุฒุฑุงุฑ ุงูุชุตููุฉ -->
            <div class="gallery-filters" style="text-align: center; margin-bottom: 3rem;">
                <button class="btn btn-sm filter-btn active" data-filter="all">ุงููู</button>
                <button class="btn btn-sm filter-btn" data-filter="installation">ุงูุชุฑููุจุงุช</button>
                <button class="btn btn-sm filter-btn" data-filter="repair">ุงูุฅุตูุงุญุงุช</button>
                <button class="btn btn-sm filter-btn" data-filter="extension">ุงูุชูุฏูุฏุงุช</button>
            </div>
            
            <div class="gallery-grid" id="mainGallery">
                <!-- ุณูุชู ุชุนุจุฆุชู ุชููุงุฆูุงู ูู ุงููุธุงู -->
            </div>
            
            <!-- ุชุญููู ุงููุฒูุฏ -->
            <div class="gallery-load-more" style="text-align: center; margin-top: 3rem;">
                <button class="btn btn-outline" id="loadMore">
                    <i class="fas fa-plus"></i>
                    ุชุญููู ุงููุฒูุฏ
                </button>
            </div>
        </div>
    </section>

    <!-- ูุณู ุฅุฏุงุฑุฉ ุงูุฃุนูุงู (ุธุงูุฑ ูุจูุงู ููุท ุจุนุฏ ุชุณุฌูู ุงูุฏุฎูู) -->
    <section class="admin-works" id="adminWorks">
        <div class="container">
            <div class="section-title">
                <h2><i class="fas fa-tools"></i> ุฅุฏุงุฑุฉ ุฃุนูุงูู</h2>
                <p>ูู ููุง ุชุถูู ูุชุชุญูู ูู ุตูุฑ ุฃุนูุงูู</p>
            </div>

            <!-- ูููุฐุฌ ุฅุถุงูุฉ ุนูู ุฌุฏูุฏ -->
            <div class="admin-form-container">
                <form id="addWorkForm" class="admin-form">
                    <div class="form-header">
                        <h4><i class="fas fa-plus-circle"></i> ุฅุถุงูุฉ ุนูู ุฌุฏูุฏ</h4>
                        <button type="button" id="logoutBtn" class="btn btn-sm" style="background: #e74c3c; color: white;">
                            <i class="fas fa-sign-out-alt"></i> ุฎุฑูุฌ
                        </button>
                    </div>

                    <div class="form-grid">
                        <div class="form-group">
                            <label for="workTitle">ุนููุงู ุงูุนูู *</label>
                            <input type="text" id="workTitle" name="workTitle" required 
                                   placeholder="ูุซุงู: ุชุฑููุจ ุฅูุงุฑุฉ ุญุฏูุซุฉ ูู ุตุงูุฉ">
                        </div>

                        <div class="form-group">
                            <label for="workLocation">ุงููููุน *</label>
                            <input type="text" id="workLocation" name="workLocation" required 
                                   placeholder="ูุซุงู: ูููุง - ุญู ุงููุฎูู">
                        </div>

                        <div class="form-group">
                            <label for="workCategory">ููุน ุงูุนูู *</label>
                            <select id="workCategory" name="workCategory" required>
                                <option value="">ุงุฎุชุฑ ุงูุชุตููู</option>
                                <option value="installation">ุชุฑููุจ ุฅูุงุฑุฉ</option>
                                <option value="repair">ุฅุตูุงุญ ุฃุนุทุงู</option>
                                <option value="extension">ุชูุฏูุฏุงุช ุฌุฏูุฏุฉ</option>
                                <option value="maintenance">ุตูุงูุฉ</option>
                                <option value="smart">ุฃูุธูุฉ ุฐููุฉ</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="workDate">ุชุงุฑูุฎ ุงูุนูู *</label>
                            <input type="date" id="workDate" name="workDate" required>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="workDescription">ุดุฑุญ ููุตู ุนู ุงูุนูู *</label>
                        <textarea id="workDescription" name="workDescription" rows="4" required
                                  placeholder="ุงูุชุจ ุดุฑุญ ููุตู ุนู ุงูุนูู ุงูููุฌุฒุ ุงูุชุญุฏูุงุชุ ูุงูุญููู..."></textarea>
                    </div>

                    <div class="form-group">
                        <label for="workFeatures">ุงููููุฒุงุช (ุงุฎุชูุงุฑู)</label>
                        <div class="features-input">
                            <input type="text" id="featureInput" placeholder="ุฃุถู ูููุฒุฉ ูุซู: ุชุฑููุจ ููุจุงุช LED">
                            <button type="button" id="addFeatureBtn" class="btn btn-sm">
                                <i class="fas fa-plus"></i> ุฅุถุงูุฉ
                            </button>
                        </div>
                        <div id="featuresList" class="features-list"></div>
                    </div>

                    <!-- ุฑูุน ุงูุตูุฑ -->
                    <div class="form-group">
                        <label>ุตูุฑ ุงูุนูู *</label>
                        <div class="upload-section">
                            <div class="upload-areas">
                                <!-- ุตูุฑุฉ ุฑุฆูุณูุฉ -->
                                <div class="upload-area main-image">
                                    <i class="fas fa-star"></i>
                                    <p>ุงูุตูุฑุฉ ุงูุฑุฆูุณูุฉ</p>
                                    <input type="file" class="image-input" data-type="main" accept="image/*">
                                    <div class="preview-container"></div>
                                </div>

                                <!-- ุตูุฑ ุฅุถุงููุฉ -->
                                <div class="upload-area additional-images">
                                    <i class="fas fa-images"></i>
                                    <p>ุตูุฑ ุฅุถุงููุฉ (ุงุฎุชูุงุฑู)</p>
                                    <input type="file" class="image-input" multiple data-type="additional" accept="image/*">
                                    <div class="preview-container"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-save"></i>
                            ุญูุธ ุงูุนูู
                        </button>
                        <button type="reset" class="btn btn-outline">ุฌุฏูุฏ</button>
                    </div>
                </form>
            </div>

            <!-- ูุงุฆูุฉ ุงูุฃุนูุงู ุงููุถุงูุฉ -->
            <div class="works-list-section">
                <h4><i class="fas fa-list"></i> ุฃุนูุงูู ุงููุถุงูุฉ</h4>
                <div id="worksList" class="works-list">
                    <!-- ุณูุชู ุชุนุจุฆุชูุง ุจุงูJavaScript -->
                </div>
            </div>
        </div>
    </section>

    <!-- ๐ ูุณู ุงูุงุชุตุงู ุงูุณุฑูุน -->
    <section class="quick-contact" style="background: #2c3e50; color: white; padding: 60px 0; text-align: center;">
        <div class="container">
            <h3 style="margin-bottom: 1rem;">ูู ุชุญุชุงุฌ ุฅูู ุฎุฏูุฉ ููุฑุจุงุฆูุฉุ</h3>
            <p style="margin-bottom: 2rem; opacity: 0.8;">ูุง ุชุชุฑุฏุฏ ูู ุงูุงุชุตุงู ุจู ููุญุตูู ุนูู ุงุณุชุดุงุฑุฉ ูุฌุงููุฉ</p>
            <div class="quick-contact-buttons">
                <a href="tel:0546788947" class="btn btn-primary btn-lg">
                    <i class="fas fa-phone"></i>
                    ุงุชุตู ููุฑุงู
                </a>
                <a href="contact.html" class="btn btn-outline btn-lg" style="border-color: white; color: white;">
                    <i class="fas fa-envelope"></i>
                    ุงุฑุณู ุฑุณุงูุฉ
                </a>
            </div>
        </div>
    </section>

    <!-- ๐ ุงูููุชุฑ -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <div class="footer-logo">
                        <h3>ุจูุงู ุงููุฎูุงูู</h3>
                        <span>ููุฑุจุงุฆู ููุงุฒู ูุญุชุฑู - ุงูุฑูุงุถ</span>
                    </div>
                    <p class="footer-description">
                        ุฃูุฏู ุฎุฏูุงุช ููุฑุจุงุฆูุฉ ูุชูุงููุฉ ุจุฌูุฏุฉ ุนุงููุฉ ูุฃุณุนุงุฑ ููุงุณุจุฉ. 
                        ุฎุฏูุฉ ุนููุงุก ูููุฒุฉ ูุถูุงู ุนูู ุฌููุน ุงูุฃุนูุงู.
                    </p>
                </div>
                
                <div class="footer-section">
                    <h4>ุฑูุงุจุท ุณุฑูุนุฉ</h4>
                    <ul class="footer-links">
                        <li><a href="index.html">ุงูุฑุฆูุณูุฉ</a></li>
                        <li><a href="services.html">ุงูุฎุฏูุงุช</a></li>
                        <li><a href="gallery.html">ุฃุนูุงูู</a></li>
                        <li><a href="contact.html">ุงุชุตู ุจู</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h4>ุฎุฏูุงุชู</h4>
                    <ul class="footer-links">
                        <li><a href="#">ุฅุตูุงุญ ุงูุฃุนุทุงู</a></li>
                        <li><a href="#">ุชุฑููุจ ุฅูุงุฑุฉ</a></li>
                        <li><a href="#">ุชูุฏูุฏุงุช ุฌุฏูุฏุฉ</a></li>
                        <li><a href="#">ุตูุงูุฉ ุฏูุฑูุฉ</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h4>ุชูุงุตู ูุนู</h4>
                    <div class="footer-contact">
                        <a href="tel:0546788947" class="contact-link">
                            <i class="fas fa-phone"></i>
                            0546788947
                        </a>
                        <a href="https://wa.me/96654788947" class="contact-link">
                            <i class="fab fa-whatsapp"></i>
                            ูุงุชุณุงุจ
                        </a>
                        <span class="contact-link">
                            <i class="fas fa-map-marker-alt"></i>
                            ุงูุฑูุงุถ - ุฌููุน ุงูุฃุญูุงุก
                        </span>
                    </div>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2024 ุจูุงู ุงููุฎูุงูู - ููุฑุจุงุฆู ููุงุฒู - ุฌููุน ุงูุญููู ูุญููุธุฉ</p>
            </div>
        </div>
    </footer>

    <!-- ๐ ุงูุฒุฑ ุงูุณุฑู ูุฅุฏุฎุงู ูููุฉ ุงููุฑูุฑ -->
    <button class="secret-admin-btn" id="secretAdminBtn" title="ููุญุฉ ุงูุชุญูู">
        <i class="fas fa-user-lock"></i>
    </button>

    <!-- ูุงูุฐุฉ ุฅุฏุฎุงู ูููุฉ ุงููุฑูุฑ -->
    <div class="login-modal" id="loginModal">
        <div class="login-box">
            <h3><i class="fas fa-lock"></i> ุฏุฎูู ุงููุฏูุฑ</h3>
            <input type="password" id="adminPassword" class="login-input" placeholder="ุฃุฏุฎู ูููุฉ ุงููุฑูุฑ">
            <div class="login-actions">
                <button id="loginBtn" class="btn-login">
                    <i class="fas fa-sign-in-alt"></i> ุฏุฎูู
                </button>
                <button id="cancelLogin" class="btn-cancel">
                    <i class="fas fa-times"></i> ุฅูุบุงุก
                </button>
            </div>
        </div>
    </div>

    <!-- ุฒุฑ ุงูุชุญูู ูู ุงูุฅุฏุงุฑุฉ (ูุธูุฑ ููุท ุจุนุฏ ุชุณุฌูู ุงูุฏุฎูู) -->
    <div class="admin-control">
        <button id="toggleAdmin" class="btn btn-admin">
            <i class="fas fa-cog"></i>
            ููุญุฉ ุงูุชุญูู
        </button>
    </div>

    <!-- ๐ ุดุฑูุท ุงูุงุชุตุงู ุงูุนุงุฆู -->
    <div class="floating-contact">
        <a href="tel:0546788947" class="floating-btn floating-call">
            <i class="fas fa-phone"></i>
        </a>
        <a href="https://wa.me/96654788947" class="floating-btn floating-whatsapp">
            <i class="fab fa-whatsapp"></i>
        </a>
    </div>

    <!-- โก JavaScript -->
    <script>
        // ูุธุงู ุฅุฏุงุฑุฉ ุฃุนูุงู ุจูุงู ูุน ุญูุงูุฉ ูุงููุฉ ูุฒุฑ ุณุฑู
        class AdminGallerySystem {
            constructor() {
                this.currentWorks = [];
                this.selectedFeatures = [];
                this.isLoggedIn = false;
                this.adminPassword = "balal2024"; // ูููุฉ ุงูุณุฑ - ุบูุฑูุง ูุดูุก ุชุฐูุฑู
                
                this.init();
            }

            init() {
                this.loadWorks();
                this.setupEventListeners();
                this.renderMainGallery();
                
                // ุงูุชุญูู ุฅุฐุง ูุงู ูุณุฌู ุฏุฎูู ูุณุจูุงู
                this.checkExistingLogin();
            }

            setupEventListeners() {
                // ุงูุฒุฑ ุงูุณุฑู ูุฅุธูุงุฑ ูุงูุฐุฉ ุงูุชุณุฌูู
                document.getElementById('secretAdminBtn').addEventListener('click', () => {
                    this.showLoginModal();
                });

                // ุฒุฑ ุชุณุฌูู ุงูุฏุฎูู
                document.getElementById('loginBtn').addEventListener('click', () => {
                    this.login();
                });

                // ุฒุฑ ุฅูุบุงุก ุงูุชุณุฌูู
                document.getElementById('cancelLogin').addEventListener('click', () => {
                    this.hideLoginModal();
                });

                // ุฒุฑ ุงูุฎุฑูุฌ
                document.getElementById('logoutBtn').addEventListener('click', () => {
                    this.logout();
                });

                // ุฒุฑ ุงูุชุญูู ูู ููุญุฉ ุงูุฅุฏุงุฑุฉ
                document.getElementById('toggleAdmin').addEventListener('click', () => {
                    this.toggleAdminPanel();
                });

                // ุฅุถุงูุฉ ูููุฒุงุช
                document.getElementById('addFeatureBtn').addEventListener('click', () => {
                    this.addFeature();
                });

                // ุฑูุน ุงูุตูุฑ
                document.querySelectorAll('.image-input').forEach(input => {
                    input.addEventListener('change', (e) => {
                        this.handleImageUpload(e.target);
                    });
                });

                // ุฅุฑุณุงู ุงููููุฐุฌ
                document.getElementById('addWorkForm').addEventListener('submit', (e) => {
                    e.preventDefault();
                    this.saveWork();
                });

                // ููุชุฑุฉ ุงููุนุฑุถ
                document.querySelectorAll('.filter-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        this.filterGallery(e.target);
                    });
                });

                // ุชุญููู ุงููุฒูุฏ
                document.getElementById('loadMore').addEventListener('click', () => {
                    this.loadMoreWorks();
                });

                // ุฅุฏุฎุงู ูููุฉ ุงูุณุฑ ุนูุฏ ุงูุถุบุท ุนูู Enter
                document.getElementById('adminPassword').addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') {
                        this.login();
                    }
                });

                // ุฅุบูุงู ูุงูุฐุฉ ุงูุชุณุฌูู ุนูุฏ ุงูููุฑ ุฎุงุฑุฌูุง
                document.getElementById('loginModal').addEventListener('click', (e) => {
                    if (e.target.id === 'loginModal') {
                        this.hideLoginModal();
                    }
                });
            }

            checkExistingLogin() {
                const savedLogin = localStorage.getItem('balalAdminLoggedIn');
                if (savedLogin === 'true') {
                    this.isLoggedIn = true;
                    this.showAdminPanel();
                }
            }

            showLoginModal() {
                document.getElementById('loginModal').classList.add('active');
                document.getElementById('adminPassword').focus();
            }

            hideLoginModal() {
                document.getElementById('loginModal').classList.remove('active');
                document.getElementById('adminPassword').value = '';
            }

            login() {
                const password = document.getElementById('adminPassword').value;
                
                if (password === this.adminPassword) {
                    this.isLoggedIn = true;
                    localStorage.setItem('balalAdminLoggedIn', 'true');
                    this.showAdminPanel();
                    this.hideLoginModal();
                    this.showMessage('ุชู ุชุณุฌูู ุงูุฏุฎูู ุจูุฌุงุญ!', 'success');
                } else {
                    this.showMessage('ูููุฉ ุงููุฑูุฑ ุฎุงุทุฆุฉ!', 'error');
                    document.getElementById('adminPassword').value = '';
                    document.getElementById('adminPassword').focus();
                }
            }

            logout() {
                this.isLoggedIn = false;
                localStorage.removeItem('balalAdminLoggedIn');
                this.hideAdminPanel();
                this.showMessage('ุชู ุชุณุฌูู ุงูุฎุฑูุฌ', 'success');
            }

            showAdminPanel() {
                document.querySelector('.admin-control').style.display = 'block';
            }

            hideAdminPanel() {
                document.querySelector('.admin-control').style.display = 'none';
                document.getElementById('adminWorks').style.display = 'none';
                document.getElementById('adminPassword').value = '';
            }

            toggleAdminPanel() {
                const adminSection = document.getElementById('adminWorks');
                const isVisible = adminSection.style.display !== 'none';
                
                adminSection.style.display = isVisible ? 'none' : 'block';
                
                // ุชุญุฑูู ุงูุตูุญุฉ ูููุณู
                if (!isVisible) {
                    adminSection.scrollIntoView({ behavior: 'smooth' });
                }
            }

            addFeature() {
                const featureInput = document.getElementById('featureInput');
                const featureText = featureInput.value.trim();
                
                if (featureText && !this.selectedFeatures.includes(featureText)) {
                    this.selectedFeatures.push(featureText);
                    this.renderFeaturesList();
                    featureInput.value = '';
                }
            }

            removeFeature(index) {
                this.selectedFeatures.splice(index, 1);
                this.renderFeaturesList();
            }

            renderFeaturesList() {
                const featuresList = document.getElementById('featuresList');
                featuresList.innerHTML = this.selectedFeatures.map((feature, index) => `
                    <div class="feature-tag">
                        <span>${feature}</span>
                        <button type="button" onclick="adminSystem.removeFeature(${index})">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                `).join('');
            }

            handleImageUpload(input) {
                const files = Array.from(input.files);
                const type = input.getAttribute('data-type');
                const previewContainer = input.parentElement.querySelector('.preview-container');
                
                files.forEach(file => {
                    if (this.validateImage(file)) {
                        this.previewImage(file, previewContainer, type);
                    }
                });
            }

            validateImage(file) {
                if (!file.type.startsWith('image/')) {
                    this.showMessage('ูุฑุฌู ุฑูุน ูููุงุช ุตูุฑ ููุท', 'error');
                    return false;
                }

                if (file.size > 5 * 1024 * 1024) {
                    this.showMessage('ุญุฌู ุงูุตูุฑุฉ ูุจูุฑ ุฌุฏุงู (ุงูุญุฏ ุงูุฃูุตู 5MB)', 'error');
                    return false;
                }

                return true;
            }

            previewImage(file, container, type) {
                const reader = new FileReader();
                
                reader.onload = (e) => {
                    const previewItem = document.createElement('div');
                    previewItem.className = `preview-item ${type}`;
                    previewItem.innerHTML = `
                        <img src="${e.target.result}" alt="ูุนุงููุฉ">
                        <button type="button" class="remove-preview">
                            <i class="fas fa-times"></i>
                        </button>
                    `;
                    
                    // ุฅุฒุงูุฉ ุงููุนุงููุงุช ุงููุฏููุฉ ููุตูุฑุฉ ุงูุฑุฆูุณูุฉ
                    if (type === 'main') {
                        container.innerHTML = '';
                    }
                    
                    container.appendChild(previewItem);
                    
                    // ุฅุถุงูุฉ ุญุฏุซ ุฅุฒุงูุฉ ุงููุนุงููุฉ
                    previewItem.querySelector('.remove-preview').addEventListener('click', () => {
                        previewItem.remove();
                    });
                };

                reader.readAsDataURL(file);
            }

            saveWork() {
                if (!this.isLoggedIn) {
                    this.showMessage('ูุฌุจ ุชุณุฌูู ุงูุฏุฎูู ุฃููุงู', 'error');
                    return;
                }

                const formData = new FormData(document.getElementById('addWorkForm'));
                
                const workData = {
                    id: Date.now(),
                    title: formData.get('workTitle'),
                    location: formData.get('workLocation'),
                    category: formData.get('workCategory'),
                    date: formData.get('workDate'),
                    description: formData.get('workDescription'),
                    features: [...this.selectedFeatures],
                    images: this.getPreviewImages(),
                    createdAt: new Date().toISOString()
                };

                // ุงูุชุญูู ูู ุงูุจูุงูุงุช
                if (!this.validateWorkData(workData)) {
                    return;
                }

                this.currentWorks.unshift(workData);
                this.saveToStorage();
                this.renderWorksList();
                this.renderMainGallery();
                this.resetForm();
                
                this.showMessage('ุชู ุญูุธ ุงูุนูู ุจูุฌุงุญ!', 'success');
            }

            validateWorkData(workData) {
                if (!workData.title || !workData.location || !workData.category || !workData.date) {
                    this.showMessage('ูุฑุฌู ููุก ุฌููุน ุงูุญููู ุงูุฅูุฒุงููุฉ', 'error');
                    return false;
                }

                if (!workData.images.main) {
                    this.showMessage('ูุฑุฌู ุฅุถุงูุฉ ุตูุฑุฉ ุฑุฆูุณูุฉ ููุนูู', 'error');
                    return false;
                }

                return true;
            }

            getPreviewImages() {
                const images = {
                    main: '',
                    additional: []
                };

                // ุงูุญุตูู ุนูู ุงูุตูุฑ ูู ุงููุนุงููุงุช
                const mainPreview = document.querySelector('.main-image .preview-item img');
                if (mainPreview) {
                    images.main = mainPreview.src;
                }

                document.querySelectorAll('.additional-images .preview-item img').forEach(img => {
                    images.additional.push(img.src);
                });

                return images;
            }

            saveToStorage() {
                localStorage.setItem('balalWorks', JSON.stringify(this.currentWorks));
            }

            loadWorks() {
                const savedWorks = localStorage.getItem('balalWorks');
                this.currentWorks = savedWorks ? JSON.parse(savedWorks) : [];
            }

            renderWorksList() {
                const worksList = document.getElementById('worksList');
                
                worksList.innerHTML = this.currentWorks.map(work => `
                    <div class="work-item" data-id="${work.id}">
                        <div class="work-item-header">
                            <h5>${work.title}</h5>
                            <div class="work-actions">
                                <button class="btn-sm edit-work" onclick="adminSystem.editWork(${work.id})">
                                    <i class="fas fa-edit"></i>
                                </button>
                                <button class="btn-sm delete-work" onclick="adminSystem.deleteWork(${work.id})">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        </div>
                        <div class="work-item-details">
                            <span class="work-location"><i class="fas fa-map-marker-alt"></i> ${work.location}</span>
                            <span class="work-date"><i class="fas fa-calendar"></i> ${work.date}</span>
                            <span class="work-category">${this.getCategoryName(work.category)}</span>
                        </div>
                        <div class="work-item-preview">
                            ${work.images.main ? `<img src="${work.images.main}" alt="${work.title}">` : ''}
                        </div>
                    </div>
                `).join('');
            }

            renderMainGallery() {
                const mainGallery = document.getElementById('mainGallery');
                if (!mainGallery) return;

                // ุฏูุฌ ุงูุฃุนูุงู ุงููุญููุธุฉ ูุน ุฃูุซูุฉ ุงูุชุฑุงุถูุฉ ุฅุฐุง ูู ููู ููุงู ุฃุนูุงู
                const worksToShow = this.currentWorks.length > 0 ? this.currentWorks : this.getDefaultWorks();
                
                mainGallery.innerHTML = worksToShow.map(work => `
                    <div class="gallery-item" data-category="${work.category}">
                        <div class="work-image">
                            ${work.images.main ? 
                                `<img src="${work.images.main}" alt="${work.title}" loading="lazy">` :
                                `<div style="background:#3498db; height:100%; display:flex; align-items:center; justify-content:center; color:white;">
                                    <i class="fas fa-bolt" style="font-size:3rem;"></i>
                                </div>`
                            }
                        </div>
                        <div class="gallery-overlay">
                            <h4>${work.title}</h4>
                            <p>${work.location}</p>
                            <p class="work-description">${work.description}</p>
                            ${work.features.length > 0 ? `
                                <div class="work-features">
                                    ${work.features.map(feature => `<span class="feature">${feature}</span>`).join('')}
                                </div>
                            ` : ''}
                            <span class="gallery-date">${work.date}</span>
                        </div>
                    </div>
                `).join('');
            }

            getDefaultWorks() {
                return [
                    {
                        id: 1,
                        title: "ุชุฑููุจ ุฅูุงุฑุฉ ุญุฏูุซุฉ",
                        location: "ููุฒู ุงูุนููู ุฃุญูุฏ - ุญู ุงููุฎูู",
                        category: "installation",
                        date: "ููุงูุฑ 2024",
                        description: "ุชุฑููุจ ูุธุงู ุฅูุงุฑุฉ ูุชูุงูู ุจุงุณุชุฎุฏุงู ุฃุญุฏุซ ุงูุชูููุงุช",
                        features: ["ููุจุงุช LED", "ุชุญูู ุฐูู", "ุชูููุฑ ุงูุทุงูุฉ"],
                        images: { main: "" }
                    },
                    {
                        id: 2,
                        title: "ุชูุฏูุฏุงุช ููุฑุจุงุฆูุฉ ุฌุฏูุฏุฉ",
                        location: "ูููุง ุฌุฏูุฏุฉ - ุญู ุงูุนููุง", 
                        category: "extension",
                        date: "ุฏูุณูุจุฑ 2024",
                        description: "ุชูููุฐ ุชูุฏูุฏุงุช ููุฑุจุงุฆูุฉ ูุงููุฉ ููููุง ุฌุฏูุฏุฉ",
                        features: ["ุฃุณูุงู ูุนุฒููุฉ", "ููุงุทุน ุฃูุงู", "ูุธุงู ุฃุฑุถู"],
                        images: { main: "" }
                    }
                ];
            }

            getCategoryName(category) {
                const categories = {
                    'installation': 'ุชุฑููุจ ุฅูุงุฑุฉ',
                    'repair': 'ุฅุตูุงุญ ุฃุนุทุงู', 
                    'extension': 'ุชูุฏูุฏุงุช ุฌุฏูุฏุฉ',
                    'maintenance': 'ุตูุงูุฉ',
                    'smart': 'ุฃูุธูุฉ ุฐููุฉ'
                };
                return categories[category] || category;
            }

            editWork(workId) {
                if (!this.isLoggedIn) {
                    this.showMessage('ูุฌุจ ุชุณุฌูู ุงูุฏุฎูู ุฃููุงู', 'error');
                    return;
                }

                const work = this.currentWorks.find(w => w.id === workId);
                if (work) {
                    this.fillFormForEdit(work);
                    this.toggleAdminPanel();
                }
            }

            fillFormForEdit(work) {
                document.getElementById('workTitle').value = work.title;
                document.getElementById('workLocation').value = work.location;
                document.getElementById('workCategory').value = work.category;
                document.getElementById('workDate').value = work.date;
                document.getElementById('workDescription').value = work.description;
                
                this.selectedFeatures = [...work.features];
                this.renderFeaturesList();
            }

            deleteWork(workId) {
                if (!this.isLoggedIn) {
                    this.showMessage('ูุฌุจ ุชุณุฌูู ุงูุฏุฎูู ุฃููุงู', 'error');
                    return;
                }

                if (confirm('ูู ุฃูุช ูุชุฃูุฏ ูู ุญุฐู ูุฐุง ุงูุนููุ')) {
                    this.currentWorks = this.currentWorks.filter(w => w.id !== workId);
                    this.saveToStorage();
                    this.renderWorksList();
                    this.renderMainGallery();
                    this.showMessage('ุชู ุญุฐู ุงูุนูู ุจูุฌุงุญ', 'success');
                }
            }

            filterGallery(button) {
                // ุฅุฒุงูุฉ ุงููุดุท ูู ุฌููุน ุงูุฃุฒุฑุงุฑ
                document.querySelectorAll('.filter-btn').forEach(btn => {
                    btn.classList.remove('active');
                });
                
                // ุฅุถุงูุฉ ุงููุดุท ููุฒุฑ ุงููุฎุชุงุฑ
                button.classList.add('active');
                
                const filter = button.getAttribute('data-filter');
                const galleryItems = document.querySelectorAll('.gallery-item');
                
                galleryItems.forEach(item => {
                    if (filter === 'all' || item.getAttribute('data-category') === filter) {
                        item.style.display = 'block';
                    } else {
                        item.style.display = 'none';
                    }
                });
            }

            loadMoreWorks() {
                // ูููู ุฅุถุงูุฉ ุงููุฒูุฏ ูู ุงูุฃุนูุงู ููุง
                this.showMessage('ุณูุชู ุชุญููู ุงููุฒูุฏ ูู ุงูุฃุนูุงู ูุฑูุจุงู', 'success');
            }

            resetForm() {
                document.getElementById('addWorkForm').reset();
                this.selectedFeatures = [];
                this.renderFeaturesList();
                document.querySelectorAll('.preview-container').forEach(container => {
                    container.innerHTML = '';
                });
            }

            showMessage(message, type) {
                const messageDiv = document.createElement('div');
                messageDiv.className = `admin-message ${type}`;
                messageDiv.innerHTML = `
                    <i class="fas fa-${type === 'success' ? 'check' : 'exclamation'}"></i>
                    ${message}
                `;
                
                document.querySelector('.admin-form-container').prepend(messageDiv);
                
                setTimeout(() => {
                    messageDiv.remove();
                }, 5000);
            }
        }

        // ุชูุนูู ุงููุธุงู
        const adminSystem = new AdminGallerySystem();
    </script>
</body>
</html>